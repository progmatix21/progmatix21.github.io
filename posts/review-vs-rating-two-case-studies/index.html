<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Review vs Rating: Two Case Studies - Progmatix 21</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="Progmatix 21" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">Progmatix 21</div>
					<div class="logo__tagline">My learnings: byte by byte</div>
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Review vs Rating: Two Case Studies</h1>
			<p class="post__lead">Do you review like you rate?</p>
			<div class="post__meta meta">
<div class="meta__item-datetime meta__item">
	<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" class="meta__icon icon icon-calendar" width="18" height="16" 
	 viewBox="0 0 458 458" style="enable-background:new 0 0 458 458;" xml:space="preserve">
<g>
	<path d="M111.938,135.598c11.046,0,20-8.954,20-20V21.597c0-11.046-8.954-20-20-20s-20,8.954-20,20v94.001
		C91.938,126.644,100.892,135.598,111.938,135.598z"/>
	<path d="M346.063,135.598c11.046,0,20-8.954,20-20V21.597c0-11.046-8.954-20-20-20s-20,8.954-20,20v94.001
		C326.063,126.644,335.017,135.598,346.063,135.598z"/>
	<path d="M443,82.403h-46.938c0,12.42,0,20.918,0,33.195c0,27.614-22.386,50-50,50c-27.614,0-50-22.386-50-50
		c0-12.281,0-20.771,0-33.195H161.938c0,12.42,0,20.918,0,33.195c0,27.614-22.386,50-50,50c-27.614,0-50-22.386-50-50
		c0-12.281,0-20.771,0-33.195H15c-8.284,0-15,6.716-15,15v89.641h458V97.403C458,89.119,451.284,82.403,443,82.403z"/>
	<path d="M0,441.403c0,8.284,6.716,15,15,15h428c8.284,0,15-6.716,15-15V227.044H0V441.403z M244.191,313.046
		c0-6.036,3.59-11.504,9.127-13.907c7.49-3.249,16.316-9.028,21.176-13.393c2.782-2.499,6.38-3.88,10.121-3.88h19.254
		c4.395,0,7.957,3.563,7.957,7.958v80.903h11.445c8.275,0,14.984,6.708,14.984,14.984c0,8.275-6.708,14.984-14.984,14.984h-59.934
		c-8.275,0-14.984-6.708-14.984-14.984c0-8.275,6.708-14.984,14.984-14.984h14.567V317.66c-2.163,2.886-6.797,6.077-12.243,8.754
		c-4.618,2.27-10.076,2.008-14.445-0.711c-4.369-2.718-7.025-7.501-7.025-12.647V313.046z M123.295,390.677
		c2.691-29.175,18.127-37.168,47.125-52.83c4.622-2.493,12.811-7.06,15.92-11.134c3.842-5.044,1.97-18.001-14.359-18.001
		c-5.549,0-11.094,1.106-17.704,5.967c-6.262,4.605-14.984,3.637-20.067-2.244l-0.594-0.688c-3.026-3.501-4.246-8.216-3.31-12.747
		s3.925-8.371,8.09-10.387c22.329-10.811,56.654-13.101,73.853,0.952c7.977,6.523,11.966,15.332,11.966,26.43
		c0,32.434-40.129,38.997-54.315,54.731h41.622c8.275,0,14.984,6.708,14.984,14.984c0,8.275-6.708,14.984-14.984,14.984h-79.1
		c-2.577,0-5.036-1.095-6.772-3C123.914,395.789,123.059,393.243,123.295,390.677z"/>
</g>
</svg>
<time class="meta__text" datetime="2024-06-20T17:14:09&#43;05:30">June 20, 2024</time></div>
<div class="meta__item-categories meta__item"><svg class="meta__icon icon icon-category" width="16" height="16" viewBox="0 0 16 16"><path d="m7 2l1 2h8v11h-16v-13z"/></svg><span class="meta__text"><a class="meta__link" href="/categories/natural-language-processing/" rel="category">natural language processing</a>
	</span>
</div><div class="meta__item-categories meta__item">
	<span class="meta__text">
		<svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg>865 words/5 min read
	</span>
</div>
</div>
		</header>
		
<div class="post__toc toc">
	<div class="toc__title">Page content</div>
	<div class="toc__menu">
	    <details>
	        <summary>Click to toggle</summary>
		        <nav id="TableOfContents">
  <ul>
    <li><a href="#case-study-1">Case Study 1</a>
      <ul>
        <li><a href="#about-the-dataset">About the dataset</a></li>
        <li><a href="#approach">Approach</a></li>
        <li><a href="#observations">Observations</a></li>
      </ul>
    </li>
    <li><a href="#case-study-2">Case Study 2</a>
      <ul>
        <li><a href="#about-the-dataset-1">About the dataset</a></li>
        <li><a href="#approach-1">Approach</a></li>
        <li><a href="#observations-1">Observations</a></li>
      </ul>
    </li>
    <li><a href="#takeaway">Takeaway</a></li>
  </ul>
</nav>
		    </details>
	</div>
</div>
<div class="content post__content clearfix">
			
<style>
#myBtn {
  display: none;
  position: fixed;
  bottom: 20px;
  right: 30px;
  z-index: 99;
  font-size: 36px;
  font-weight: bold;
  border: none;
  outline: none;
  background-color: #444;
  color: white;
  cursor: pointer;
  padding: 15px;
  border-radius: 50%;
}

#myBtn:hover {
  background-color: #008080;
}
</style>

<button onclick="topFunction()" id="myBtn" title="Go to top">&#9650;</button>


<script>

let mybutton = document.getElementById("myBtn");


window.onscroll = function() {scrollFunction()};

function scrollFunction() {
  if (document.body.scrollTop > 1000 || document.documentElement.scrollTop > 1000) {
    mybutton.style.display = "block";
  } else {
    mybutton.style.display = "none";
  }
}


function topFunction() {
  document.body.scrollTop = 0;
  document.documentElement.scrollTop = 0;
}
</script>



<p>Reviews do not always give the clear
picture of the rating.  In this article, we will look at two case studies
involving datasets with reviews and ratings.</p>
<h2 id="case-study-1">Case Study 1</h2>
<h3 id="about-the-dataset">About the dataset</h3>
<p>The &lsquo;ShopperSentiments&rsquo; dataset is sourced from
Kaggle.  It contains reviews and ratings concerning products
on a fashion items portal.  This is a labelled dataset with both ratings and
reviews amenable to classification.  The classification exercise and
the post analysis throws up some interesting results on the
consistency of reviews and rating.</p>
<h3 id="approach">Approach</h3>
<p>We are concerned with only two features of the dataset: &lsquo;reviews&rsquo; and &lsquo;ratings&rsquo;.
We collapse the 5-point rating into a binary label: 1 for ratings 1-3 and 0
for 4-5.  Thus, we relabel the dataset to identify unhappy customers.</p>
<p>The logistic regression classifier throws up satisfactory results.  However,
what arouses our curiosity are the false positives and the false negatives &ndash;
instances where the classifier is going wrong.</p>
<p>We use a library called LIME (Local Interpretable Model-agnostic Explanations)
to do the post-modelling analysis.</p>
<h3 id="observations">Observations</h3>
<p>Below is the LIME interpretation for false negatives.  These are negative reviews
that could not be identified by the classifier.</p>
<p><img src="lime_false_negative.png" alt="Inconsistencies with false negatives"></p>
<p>Closer examination reveals that the classifier has gone by the positive sentiment
of the words.  However, the customer rating (in the range 1-3) is
inconsistent with the verbalized positive sentiment.</p>
<p>Next, we look at the false positives.  These are the positive reviews identified
by the classifier as negative.</p>
<p><img src="lime_false_positive.png" alt="Inconsistencies with false positives"></p>
<p>Again, we see that words are inconsistent with the positive ratings (4-5) for
these instances.</p>
<p>These inconsistencies are nicely captured well by LIME and displayed.</p>
<blockquote>
<p><a href="https://www.kaggle.com/code/atrijtalgery/updated-tf-idf-iou-logreg-gridsearch-with-lime">case study 1</a></p>
</blockquote>
<hr>
<h2 id="case-study-2">Case Study 2</h2>
<h3 id="about-the-dataset-1">About the dataset</h3>
<p>This is another Kaggle dataset called the TripAdvisor Restaurants Info for 31
Euro-Cities.  This is a restaurant reviews dataset covering many restaurants.
There are reviews as well as ratings in this dataset.  This dataset is also amenable
to classification.</p>
<h3 id="approach-1">Approach</h3>
<p>For this dataset, we use a pretrained sentiment analyzer on the verbalized
reviews.  Later, we try fitting an LSTM to our dataset.  Both these exercises
reveal interesting observations.</p>
<p>We use KDE with rugplot to visualize the distribution of the sentiment scores.</p>
<h3 id="observations-1">Observations</h3>
<p>We closely examine some rating levels and note interesting aspects.</p>
<h4 id="a-rating-of-3">A rating of 3</h4>
<p>This is the most ambiguous rating of all the five ratings.  A person might
not want to give a too bad or a too good rating but wants to be specific
in his/her review.  This rating does not express the sentiment that we
assume.  A rugplot explaining this reason is as below.</p>
<p><img src="rating3.png" alt="Rugplot of rating 3"></p>
<p>While both the positive and negative sentiments are strong (high scores), the
probability of a positive sentiment appears higher.</p>
<h4 id="a-rating-of-35">A rating of 3.5</h4>
<p>This rating is slightly clearer from ambiguity and is a bit oriented towards
the positive review side.  A large number of customers really express a positive sentiment by their rating with a lot of reduction in the negative
reviews.  However, there still remains some proportion of negative reviews to add to some ambiguity.  The rating is shown in the rugplot below.</p>
<p><img src="rating3_5.png" alt="Rugplot of rating 3.5"></p>
<h4 id="a-rating-of-2">A rating of 2</h4>
<p>This rating is clearly on the negative side of reviews.  The negative reviews show a higher peak compared to the positive reviews which are lesser in number.  Surprisingly, some reviews express strong positive
sentiment even at this low rating.</p>
<p><img src="rating2.png" alt="Rugplot of rating 2"></p>
<h4 id="a-rating-of-4">A rating of 4</h4>
<p>This rating is clearly on the positive side with only a small number of
reviews contributing to the negative side.  The curve of the negative
reviews is flatter and spreads as a long tail towards milder sentiment score.</p>
<p><img src="rating4.png" alt="Rugplot of rating 4"></p>
<h4 id="a-rating-of-5">A rating of 5</h4>
<p>A major portion of the reviews are positive which shows high consistency.
Interestingly, there is a very small fraction of negative reviews giving some
inconsistency; the distribution however is very flat and long tails away
towards milder sentiment.</p>
<p><img src="rating5.png" alt="Rugplot of rating 5"></p>
<h4 id="the-classification-exercise">The classification exercise</h4>
<p>The classification exercise unsurprisingly gives us poor results.  This is due
to the ambiguity of the ratings in the middle ranges.  This ambiguity also
makes it difficult to pick an appropriate &lsquo;binarizing threshold&rsquo;.</p>
<blockquote>
<p><a href="https://www.kaggle.com/code/atrijtalgery/ratings-are-unreliable">case study 2</a></p>
</blockquote>
<h2 id="takeaway">Takeaway</h2>
<p>The LIME analysis shows that people are quite prone to a wide interpretation of
ratings in the middle ranges.</p>
<p>From the distribution plots, it is apparent that people who rate higher are more consistent.</p>
<p>Thus, a rating can perhaps mean the probability of a customer being satisfied. Accordingly, a customer who rates 4 (out of 5) has a 0.8 probability of being happy with the service, and a person who rates 2 has a probability of just 0.4 of being happy.</p>
<p>This is contrary to the intuitive understanding that a rating indicates the scale of happiness of a
customer.</p>
<p>One way to make ratings consistent is to give a clear meaning to the rating scale and specify rating
guidelines.</p>

		</div>
		<footer class="post__footer">
			
<div class="post__tags tags clearfix">
	<svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5 0 11V3C0 1.5.8.8.8.8S1.5 0 3 0h8c1.5 0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/></svg>
	<ul class="tags__list">
		<li class="tags__item">
			<a class="tags__link btn" href="/tags/case-study/" rel="tag">case study</a>
		</li>
	</ul>
</div>
		</footer>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/briefly-text-summarizer/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Briefly: a tweakable text summarizer</p>
		</a>
	</div>
</nav>




			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
<div class="footer__links">
	<a class="footer__link" href="/about/">About</a>
</div>
		<div class="footer__copyright">
			&copy; 2024 Atrij Talgery.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
	</div>
<script async defer src="/js/menu.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.6/MathJax.js?config=TeX-AMS-MML_HTMLorMML" async></script>
</body>
</html>